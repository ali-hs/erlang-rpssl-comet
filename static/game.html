<html>
<head>
<title>Rock-Paper-Scissors-Spock-Lizard</title>
<script type="text/javascript" src="../static/jquery.js"></script>
<script type="text/javascript">

function click_handler(ev) {
    ev.preventDefault();
    $("div#curtain").css("z-index", 99).fadeTo(1000, 0.4);
    $.post("attack", {'attack': $(this).attr("id")}, got_result, "json");
}

function got_result(data) {
    $("div#curtain").stop();
    $("div#curtain").css("opacity", 0).css("z-index", -1);
    $("#results").append("<li>Outcome: " + data['result'] +
        " You: " + data['your-attack'] +
        " They: " + data['their-attack'] + "</li>");
    window.scroll(window.scrollX, document.height);
}

$(document).ready(function() {
    $("#commands a.play").each(function (i) {
        $(this).click(click_handler);
    });
});
</script>
<style>
body {text-align:left}
#sidebar {width:350px; position:fixed; right:0.3em; top:0.3em}
#command_bar { border-top: 1px solid #666; margin-top: 1em; padding-top: 0.3em;}
#curtain { position: fixed; z-index: -1; left: 0; top: 0; 
    width: 100%; height: 100%; 
    background: #004; opacity: 0; }

</style>
</head>
<body>
<div id=curtain></div>
<div id=sidebar><img src="../static/rpssl.png">
<span id=help>Scissors cut Paper covers Rock
crushes Lizard poisons Spock smashes Scissors
decapitates Lizard eats Paper disproves Spock
vaporizes Rock crushes Scissors</span>
<div id=command_bar>
  <div id=commands>
  Play:
  <a href="" class=play id=rock>rock</a>
  <a href="" class=play id=paper>paper</a>
  <a href="" class=play id=scissors>scissors</a>
  <a href="" class=play id=spock>spock</a>
  <a href="" class=play id=lizard>lizard</a>
  </div>
</div>
</div>
<h1>Rock-Paper-Scissors-Spock-Lizard</h1>
Copy the url of this <a href="">page</a> and send it to a friend!
<ol id=results></ol>
</body>
</html>
